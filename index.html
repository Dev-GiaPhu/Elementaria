<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Elementaria — Nguyễn Gia Phú (PS47618)</title>
<style>
  :root {
    --blur-strength: 10px;
    --glass-bg: rgba(255, 255, 255, 0.18);
    --glass-bright: 1.15;
    --text-dark: #111;
  }
  html, body {
    margin: 0;
    padding: 0;
    font-family: "Segoe UI", Arial, sans-serif;
    color: var(--text-dark);
    background: #0a0f18;
    overflow-x: hidden;
  }

  /* Background layer */
  .background {
    position: fixed;
    inset: 0;
    background: url("Image_Web/Background.png") center/cover no-repeat;
    z-index: 0;
  }

  /* Characters container */
  .characters {
    position: fixed;
    inset: 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    z-index: 1;
    pointer-events: none;
  }
  .character {
    opacity: 0;
    transition: opacity 0.6s ease;
  }
  .character.active {
    opacity: 0.85;
  }
  .character img {
    width: 380px;
    filter: drop-shadow(0 10px 30px rgba(0,0,0,0.6)) saturate(1.2);
    transform-origin: center;
  }

  /* Content container */
  main {
    position: relative;
    z-index: 2;
    max-width: 1000px;
    margin: 0 auto;
    padding: 60px 20px;
  }
  section {
    background: var(--glass-bg);
    backdrop-filter: blur(var(--blur-strength)) brightness(var(--glass-bright));
    -webkit-backdrop-filter: blur(var(--blur-strength)) brightness(var(--glass-bright));
    border-radius: 18px;
    box-shadow: 0 8px 40px rgba(0,0,0,0.25);
    padding: 40px 30px;
    margin-bottom: 40px;
  }

  header {
    text-align: center;
    color: var(--text-dark);
  }
  header img {
    max-width: 180px;
    border-radius: 12px;
  }

  h1, h2, h3 {
    color: #000;
  }

  a {
    color: #0066cc;
  }

  .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 10px;
    margin-top: 10px;
  }
  .gallery img {
    width: 100%;
    border-radius: 8px;
    cursor: pointer;
    transition: transform 0.3s ease;
  }
  .gallery img:hover {
    transform: scale(1.05);
  }

  /* Overlay full image */
  #overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 100;
  }
  #overlay img {
    max-width: 90%;
    max-height: 90%;
    border-radius: 8px;
  }
  #overlay.show {
    display: flex;
    animation: fadeIn 0.3s ease;
  }
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

  .footer-fixed {
    position: fixed;
    right: 10px;
    bottom: 10px;
    font-size: 13px;
    color: #333;
    opacity: 0.8;
    background: rgba(255,255,255,0.6);
    padding: 4px 10px;
    border-radius: 8px;
    z-index: 99;
  }
</style>
</head>
<body>
  <div class="background"></div>

  <!-- Character animations -->
  <div class="characters">
    <div class="character left" id="char-normal"><img src="Image_Web/PLayer_Normal_Idle1.png" alt="Normal"></div>
    <div class="character right" id="char-fire"><img src="Image_Web/PLayer_Fire_Idle1.png" alt="Fire"></div>
    <div class="character left" id="char-ice"><img src="Image_Web/PLayer_Ice_Idle1.png" alt="Ice"></div>
    <div class="character right" id="char-stone"><img src="Image_Web/PLayer_Stone_Idle1.png" alt="Stone"></div>
    <div class="character left" id="char-wind"><img src="Image_Web/PLayer_Wind_Idle1.png" alt="Wind"></div>
  </div>

  <main>
    <header>
      <img src="Image_Web/Logo.png" alt="Logo Elementaria">
      <h1>Elementaria Project</h1>
      <p>ASM2 – Nguyễn Gia Phú – PS47618</p>
    </header>

    <section id="overview" class="element">
      <div class="content">
        <div class="inner">
          <h2>Tổng quan</h2>
          <p><strong>Thể loại:</strong> FlatForm, Action Platformer</p>
          <h3>Cốt chuyện</h3>
          <p>Nhập vai với 1 nhân vật sở hữu 4 nguyên tố: Lửa, nước, đá và khí. Phải chiến đấu với các quái vật là các khối đá nguyên tố hỗn loạn để đến được cánh cửa ma thuật ở cuối hành trình. Mỗi nguyên tố sẽ có ảnh hưởng đến chỉ số, nội tại, kĩ năng của nhân vật; nhân vật sẽ phải chuyển đổi giữa các nguyên tố sao cho phù hợp với tình hình để vượt qua thử thách.</p>
        </div>
      </div>
    </section>

    <section id="images-in-game" class="element">
      <div class="content">
        <div class="inner">
          <h2>Hình Ảnh Trong Game</h2>
          <div class="gallery" data-slot="images-in-game"></div>
        </div>
      </div>
    </section>

    <section id="unity" class="element">
      <div class="content">
        <div class="inner">
          <h2>Unity · Prefabs</h2>
          <p>Quái vật, các viên đạn kĩ năng,… được tạo prefabs để được gọi ra nhiều lần nhưng cùng 1 dạng và thông số.</p>
          <div class="gallery" data-slot="unity"></div>
        </div>
      </div>
    </section>

    <!-- 16 features sections, each with detail and gallery placeholder -->
    <section id="features" class="element">
      <div class="content">
        <div class="inner">
          <h2>Các tính năng (nguyên văn)</h2>

          <h3>Tính năng 1</h3>
          <p>Em dùng INPUT bằng cả Keyboard và Button trên màn hình để có thể chơi được bằng nhiều cách và thêm biến Hit Time khi đánh sẽ set Hit Time là true thì lúc này player sẽ không di chuyển được.</p>
          <div class="gallery" data-slot="f1"></div>

          <h3>Tính năng 2</h3>
          <p>Nhân vật có 5 hình dạng em dùng biến Type kiểu Int và Switch, mỗi giá trị từ 0 – 4 sẽ quy định các chức năng của dạng đó mà không có các chức năng dạng khác được bật.</p>
          <div class="gallery" data-slot="f2"></div>

          <h3>Tính năng 3</h3>
          <p>Menu chọn nhân vật sẽ xuất hiện khi ấn Q: em dùng get input khi ấn Q sẽ bật UI menu lên và với Type dạng nào thì sẽ vô hiệu hóa nút dạng đó để không biến thành dạng hiện tại và gọi event thoát menu khi chọn player xong để thực hiện lệnh ẩn menu.</p>
          <div class="gallery" data-slot="f3"></div>

          <h3>Tính năng 4</h3>
          <p>Mini UI đổi nhân vật tương tự Menu ở trên, có thể ấn để chuyển đổi dạng nhưng dành cho Input bằng Click chuột. Sau khi chọn ở Mini Menu này hay Menu bên trên sẽ có một khoảng thời gian cooldown không thể chuyển dạng liên tục; ở tính năng này em bật UI ảnh cooldown lên nút để ngăn người dùng bấm và dùng Node Cooldown sau 1 thời gian sẽ tắt ảnh cooldown để người chơi có thể ấn lại được. Mỗi dạng sẽ có một icon được hiện màu vàng tương ứng để hiển thị dạng player đã chọn theo biến Type.</p>
          <div class="gallery" data-slot="f4"></div>

          <h3>Tính năng 5</h3>
          <p>Health Bar: Dùng node Slider và cập nhật Value theo phần trăm máu và Max Value bằng biến Max Health. Để giữ tỉ lệ phần trăm máu sau khi đổi giữa các dạng có Max Health khác nhau thì em tạo thêm 1 biến tên MaxHealthOld để lưu Max Health của dạng trước trước khi set Max Health mới và dùng công thức: <br><code>Health = MaxHealthNew * (OldHealth / MaxHealthOld)</code></p>
          <div class="gallery" data-slot="f5"></div>

          <h3>Tính năng 6</h3>
          <p>Player hồi máu sau 5s không nhận sát thương và máu thấp hơn Max Health. Em dùng event Hit khi mỗi lần bị Enemy đánh và mỗi lần bị đánh sẽ reset cooldown lại 5s; tức sau khi bị đánh thì máu thấp hơn Max Health và 5s kế tiếp mới được đặt Health + 1.</p>
          <div class="gallery" data-slot="f6"></div>

          <h3>Tính năng 7</h3>
          <p>Player Death: em dùng node Op Update để kiểm tra khi Player có máu &lt;= 0 và Y &lt; -12 sẽ set bool Death ở Animator để thực hiện Animation Death của player và hiện menu GameOver và Destroy Player sau vài giây thực hiện animation.</p>
          <div class="gallery" data-slot="f7"></div>

          <h3>Tính năng 8</h3>
          <p>Dung nham và Nước: Dung nham và nước sẽ bật tắt collider thêm dạng nhân vật (khi player ở dạng lava thì collider sẽ được bật để player đi qua); nếu ở dạng khác thì player sẽ bị rơi xuống và đặt máu về -5 (đặt về -5 để tránh player hồi máu vì không có event hit lúc này).</p>
          <div class="gallery" data-slot="f8"></div>

          <h3>Tính năng 9</h3>
          <p>Layer Map được sắp xếp xa gần theo trục z và camera mode Perspective để tạo cảm giác không gian chân thực khi di chuyển.</p>
          <div class="gallery" data-slot="f9"></div>

          <h3>Tính năng 10</h3>
          <p>Kĩ năng nhân vật: với các dạng khác nhau nhân vật sẽ chạy các lệnh khác nhau với Switch với cùng 1 input và dùng node Once và Cooldown để tạo thời gian hồi chiêu sau mỗi lần dùng. Player sẽ có các skill khác nhau:</p>
          <ul>
            <li><strong>Normal</strong>: player ở dạng mặc định các thông số bình thường và không có skill.</li>
            <li><strong>Ice</strong>: player sẽ có các thông số máu, damage, tốc độ, và tốc đánh theo setup. Skill sẽ bắn ra viên đạn băng; khi chạm quái vật có tag là Enemy sẽ set velocity quái = vận tốc hiện tại – (vận tốc hiện tại / 1.7), sau 1 khoảng thời gian sẽ đặt vận tốc lại ban đầu để tạo hiệu ứng làm chậm.</li>
            <li><strong>Fire</strong>: sẽ bật trigger hitbox vùng tấn công, khi có trigger với quái sẽ chạy vòng lặp trừ máu và add force có cooldown vài giây trước khi lặp lại để tạo hiệu ứng gây cháy và nockback.</li>
            <li><strong>Stone</strong>: ở dạng này không có kĩ năng nhưng biến máu và damage tăng nhiều hơn.</li>
            <li><strong>Wind</strong>: dạng này biến gravity giảm và độ lớn bật nhảy và tốc độ di chuyển cao hơn tạo cảm giác nhẹ nhàng lơ lững. Skill tạo ra viên đạn tương tự bên trên nhưng sẽ đặt gravity quái thấp và add force khiến quái đánh bay lên và lơ lững trong vài giây rồi set mọi thứ lại tạo cho cảm giác quái được hất tung và lơ lững.</li>
          </ul>
          <div class="gallery" data-slot="f10"></div>

          <h3>Tính năng 11</h3>
          <p>Xử lí hình ảnh – đồ hoạ: Em dùng thêm Volume với các mục như Bloom và Chromatic Aberration để tạo hiệu ứng hình ảnh và ánh sáng bắt mắt. Phần này bao gồm ảnh tiêu đề (2 ảnh) và ảnh trước/sau khi thêm volume (mỗi phần 1 ảnh).</p>
          <div class="gallery" data-slot="f11"></div>

          <h3>Tính năng 12</h3>
          <p>Hiệu ứng thanh máu sau khi nhận sát thương: em dùng Node set color thanh máu thành màu cam và dùng node cooldown để delay sau 0.5s sẽ đặt màu thanh máu lại màu đỏ.</p>
          <div class="gallery" data-slot="f12"></div>

          <h3>Tính năng 13</h3>
          <p>Hiển thị Coin: em tạo biến Coin dạng INT để lưu số Coin, sau khi player kill được Enemy sẽ add 1 điểm vào Coin. Em dùng On Update để cập nhật Text điểm hiển thị trên UI bằng cách set Text bằng giá trị của biến Coin.</p>
          <div class="gallery" data-slot="f13"></div>

          <h3>Tính năng 14</h3>
          <p>Hiệu ứng Nockback: mỗi khi có trigger va chạm với hitbox tấn công sẽ truyền event cùng với biến Right được cập nhật True/False khi di chuyển để xác định đối tượng tấn công đang xoay bên nào. Ở đối tượng bị tấn công sẽ xét giá trị biến Right mà thực hiện hướng Nockback với node Add Force.</p>
          <div class="gallery" data-slot="f14"></div>

          <h3>Tính năng 15</h3>
          <p>ESC: em dùng ON Update kiểm tra khi người dùng ấn key ESC thì nó sẽ chạy lệnh ẩn tất cả UI trên màn hình.</p>
          <div class="gallery" data-slot="f15"></div>

          <h3>Tính năng 16</h3>
          <p>Door: Em tạo một collider với cánh cửa và gắn tag là Door, khi player va chạm với vật tag là Door thì sẽ thực hiện hiển thị màn hình Win và sau 2s sẽ load scene về Menu.</p>
          <div class="gallery" data-slot="f16"></div>

        </div>
      </div>
    </section>
    <section>
      <h2>Liên kết tải về</h2>
      <p>Drive: <a href="https://drive.google.com/file/d/1et1HIVm3_XfGe3GCwTQ8yrz9itDcNMZT/view?usp=drive_link">Tải từ Google Drive</a></p>
      <p>GitHub: <a href="https://github.com/Dev-GiaPhu/Elementaria/tree/master">Xem mã nguồn</a></p>
    </section>
  </main>

  <div id="overlay"><img src="" alt=""></div>
  <div class="footer-fixed">Nguyễn Gia Phú – PS47618</div>

<script>
/* === Character animation setup === */
const characters = [
  { id: "char-normal", prefix: "PLayer_Normal_Idle", color: "rgba(255,255,255,0.0)" },
  { id: "char-fire", prefix: "PLayer_Fire_Idle", color: "rgba(255,100,50,0.0)" },
  { id: "char-ice", prefix: "PLayer_Ice_Idle", color: "rgba(50,200,255,0.0)" },
  { id: "char-stone", prefix: "PLayer_Stone_Idle", color: "rgba(200,180,160,0.0)" },
  { id: "char-wind", prefix: "PLayer_Wind_Idle", color: "rgba(150,255,180,0.0)" }
];

let frame = 1;
setInterval(() => {
  frame = frame >= 4 ? 1 : frame + 1;
  characters.forEach(c => {
    const el = document.querySelector(`#${c.id} img`);
    if (el) el.src = `Image_Web/${c.prefix}${frame}.png`;
  });
}, 220);

/* === Scroll trigger for changing active character === */
const sections = document.querySelectorAll("section");
window.addEventListener("scroll", () => {
  const scrollY = window.scrollY;
  const h = document.body.scrollHeight - window.innerHeight;
  const progress = scrollY / h;
  const index = Math.min(Math.floor(progress * characters.length), characters.length - 1);
  characters.forEach((c, i) => {
    const el = document.getElementById(c.id);
    el.classList.toggle("active", i === index);
    el.style.transform = `translateY(${(scrollY * 0.1) * (i % 2 === 0 ? 1 : -1)}px) rotate(${Math.sin(scrollY/400)*6}deg)`;
  });
});

/* === Gallery overlay === */
document.querySelectorAll(".gallery img").forEach(img => {
  img.addEventListener("click", () => {
    const overlay = document.getElementById("overlay");
    overlay.querySelector("img").src = img.src;
    overlay.classList.add("show");
  });
});
document.getElementById("overlay").addEventListener("click", () => {
  document.getElementById("overlay").classList.remove("show");
});
</script>
</body>
</html>
