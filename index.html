<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Elementaria Project - Nguyễn Gia Phú PS47618</title>
<style>
:root{
  --bg-1:#0f1724;
  --bg-2:#172033;
  --card:rgba(255,255,255,0.04);
  --accent:#f6d365;
  --muted:#c6d2e1;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Segoe UI',Tahoma, Geneva, Verdana, sans-serif;
  background:linear-gradient(180deg,var(--bg-1),var(--bg-2));
  color:var(--muted);
  -webkit-font-smoothing:antialiased;
  overflow-x:hidden;
}
header{
  display:flex;
  align-items:center;
  gap:16px;
  padding:22px 24px;
  border-bottom:1px solid rgba(255,255,255,0.03);
  backdrop-filter:blur(8px);
  background:rgba(0,0,0,0.25);
}
header img{
  height:78px;
  width:auto;
  border-radius:10px;
  box-shadow:0 6px 18px rgba(0,0,0,0.5);
}
header .title{flex:1}
header h1{margin:0;color:var(--accent);font-size:20px}
header p{margin:4px 0 0;color:#d7e3f0}
main{max-width:1100px;margin:24px auto;padding:0 18px 120px}
section{background:var(--card);padding:18px;border-radius:12px;margin-bottom:20px;box-shadow:0 8px 30px rgba(2,6,23,0.6)}
h2{color:var(--accent);margin-top:0}h3{color:#fff;margin-bottom:6px}a{color:var(--accent)}
.gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:12px}
.thumb{position:relative;overflow:hidden;border-radius:10px;background:linear-gradient(180deg,#0b1522,#0f2432);display:flex;align-items:center;justify-content:center;padding:6px}
.thumb img{width:100%;height:160px;object-fit:cover;border-radius:8px;display:block;transition:transform .28s ease,box-shadow .28s ease}
.thumb:hover img{transform:scale(1.03);box-shadow:0 8px 30px rgba(246,211,101,0.12)}
.thumb .caption{position:absolute;left:8px;bottom:8px;padding:6px 8px;background:rgba(0,0,0,0.35);border-radius:6px;font-size:13px}
#overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(6,8,12,0.75);backdrop-filter:blur(4px);z-index:60}
#overlay.show{display:flex;animation:fadeIn .28s ease}
#overlay .box{max-width:92%;max-height:92%;position:relative}
#overlay img{max-width:100%;max-height:100%;border-radius:10px;display:block}
#overlay .close{position:absolute;right:-8px;top:-8px;background:linear-gradient(180deg,#111,#222);border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:20px;cursor:pointer;box-shadow:0 6px 20px rgba(0,0,0,0.6)}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
.student-fixed{position:fixed;right:14px;bottom:14px;background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.02));padding:8px 12px;border-radius:10px;color:var(--muted);font-size:13px;box-shadow:0 6px 20px rgba(0,0,0,0.5)}
.player-fixed{position:fixed;left:14px;bottom:14px;width:80px;height:80px;z-index:50}
.player-fixed img{width:100%;height:100%;object-fit:contain}
@media(max-width:600px){header{flex-direction:column;align-items:flex-start}.thumb img{height:140px}}
</style>
</head>
<body>
<header>
<img src="Image_Web/Logo.png" alt="Logo" onerror="this.style.opacity=0.2">
<div class="title">
<h1>Elementaria — ASM2</h1>
<p>Nguyễn Gia Phú · PS47618 — Nhập môn lập trình game</p>
</div>
<div style="text-align:right"><small style="color:#9fb0c8">FPT Polytechnic · 2025</small></div>
</header>

<main>
<section id="overview">
<h2>Tổng quan</h2>
<p><strong>Thể loại:</strong> FlatForm, Action Platformer</p>
<h3>Cốt chuyện</h3>
<p>Nhập vai với 1 nhân vật sở hữu 4 nguyên tố: Lửa, Nước, Đá và Khí. Phải chiến đấu với các quái vật là các khối đá nguyên tố hỗn loạn để đến được cánh cửa ma thuật ở cuối hành trình. Mỗi nguyên tố sẽ ảnh hưởng đến chỉ số, nội tại, kỹ năng của nhân vật; nhân vật sẽ phải chuyển đổi giữa các nguyên tố sao cho phù hợp với tình hình để vượt qua thử thách.</p>
</section>

<section id="images-in-game">
<h2>Hình Ảnh Trong Game</h2>
<div class="gallery" data-slot="images-in-game"></div>
</section>

<section id="unity-prefabs">
<h2>Unity · Prefabs</h2>
<p>Quái vật, các viên đạn kỹ năng,… được tạo prefabs để gọi ra nhiều lần nhưng cùng 1 dạng và thông số.</p>
<div class="gallery" data-slot="unity"></div>
</section>

<section id="features">
<h2>Các tính năng</h2>

<h3>Tính năng 1</h3>
<p>Em dùng INPUT bằng cả Keyboard và Button trên màn hình để có thể chơi được bằng nhiều cách và thêm biến Hit Time khi đánh sẽ set Hit Time là true thì lúc này player sẽ không di chuyển được.</p>
<div class="gallery" data-slot="f1"></div>

<h3>Tính năng 2</h3>
<p>Nhân vật có 5 hình dạng em dùng biến Type kiểu Int và Switch, mỗi giá trị từ 0 – 4 sẽ quy định các chức năng của dạng đó mà không có các chức năng dạng khác được bật.</p>
<div class="gallery" data-slot="f2"></div>

<h3>Tính năng 3</h3>
<p>Menu chọn nhân vật sẽ xuất hiện khi ấn Q: em dùng get input khi ấn Q sẽ bật UI menu lên và với Type dạng nào thì sẽ vô hiệu hóa nút dạng đó để không biến thành dạng hiện tại và gọi event thoát menu khi chọn player xong để thực hiện lệnh ẩn menu.</p>
<div class="gallery" data-slot="f3"></div>

<h3>Tính năng 4</h3>
<p>Mini UI đổi nhân vật tương tự Menu ở trên, có thể ấn để chuyển đổi dạng nhưng dành cho Input bằng Click chuột. Sau khi chọn ở Mini Menu này hay Menu bên trên sẽ có một khoảng thời gian cooldown không thể chuyển dạng liên tục; ở tính năng này em bật UI ảnh cooldown lên nút để ngăn người dùng bấm và dùng Node Cooldown sau 1 thời gian sẽ tắt ảnh cooldown để người chơi có thể ấn lại được. Mỗi dạng sẽ có một icon được hiện màu vàng tương ứng để hiển thị dạng player đã chọn theo biến Type.</p>
<div class="gallery" data-slot="f4"></div>

<h3>Tính năng 5</h3>
<p>Health Bar: Dùng node Slider và cập nhật Value theo phần trăm máu và Max Value bằng biến Max Health. Để giữ tỉ lệ phần trăm máu sau khi đổi giữa các dạng có Max Health khác nhau thì em tạo thêm 1 biến tên MaxHealthOld để lưu Max Health của dạng trước trước khi set Max Health mới và dùng công thức: <code>Health = MaxHealthNew * (OldHealth / MaxHealthOld)</code></p>
<div class="gallery" data-slot="f5"></div>

<h3>Tính năng 6</h3>
<p>Player hồi máu sau 5s không nhận sát thương và máu thấp hơn Max Health. Em dùng event Hit khi mỗi lần bị Enemy đánh và mỗi lần bị đánh sẽ reset cooldown lại 5s; tức sau khi bị đánh thì máu thấp hơn Max Health và 5s kế tiếp mới được đặt Health + 1.</p>
<div class="gallery" data-slot="f6"></div>

<h3>Tính năng 7</h3>
<p>Player Death: em dùng node Op Update để kiểm tra khi Player có máu &lt;= 0 và Y &lt; -12 sẽ set bool Death ở Animator để thực hiện Animation Death của player và hiện menu GameOver và Destroy Player sau vài giây thực hiện animation.</p>
<div class="gallery" data-slot="f7"></div>

<h3>Tính năng 8</h3>
<p>Dung nham và Nước: Dung nham và nước sẽ bật tắt collider thêm dạng nhân vật (khi player ở dạng lava thì collider sẽ được bật để player đi qua); nếu ở dạng khác thì player sẽ bị rơi xuống và đặt máu về -5 (đặt về -5 để tránh player hồi máu vì không có event hit lúc này).</p>
<div class="gallery" data-slot="f8"></div>

<h3>Tính năng 9</h3>
<p>Layer Map được sắp xếp xa gần theo trục z và camera mode Perspective để tạo cảm giác không gian chân thực khi di chuyển.</p>
<div class="gallery" data-slot="f9"></div>

<h3>Tính năng 10</h3>
<p>Kĩ năng nhân vật: với các dạng khác nhau nhân vật sẽ chạy các lệnh khác nhau với Switch cùng 1 input và dùng node Once và Cooldown để tạo thời gian hồi chiêu sau mỗi lần dùng. Player sẽ có các skill khác nhau:</p>
<ul>
<li><strong>Normal:</strong> player mặc định, không skill.</li>
<li><strong>Ice:</strong> player bắn viên đạn băng; chạm Enemy làm chậm.</li>
<li><strong>Fire:</strong> bật trigger hitbox, gây cháy, knockback.</li>
<li><strong>Stone:</strong> không skill, máu và damage cao hơn.</li>
<li><strong>Wind:</strong> giảm gravity, nhảy cao, skill knockback làm lơ lửng Enemy.</li>
</ul>
<div class="gallery" data-slot="f10"></div>

<h3>Tính năng 11</h3>
<p>Xử lí hình ảnh – đồ hoạ: Em dùng Volume với các mục như Bloom và Chromatic Aberration để tạo hiệu ứng hình ảnh và ánh sáng bắt mắt.</p>
<div class="gallery" data-slot="f11"></div>

<h3>Tính năng 12</h3>
<p>Hiệu ứng thanh máu sau khi nhận sát thương: em dùng node set color thanh máu thành màu cam và dùng node cooldown để delay sau 0.5s sẽ đặt màu thanh máu lại màu đỏ.</p>
<div class="gallery" data-slot="f12"></div>

<h3>Tính năng 13</h3>
<p>Hiển thị Coin: tạo biến Coin dạng INT, sau khi player kill Enemy sẽ cộng 1 điểm. Dùng On Update cập nhật Text UI.</p>
<div class="gallery" data-slot="f13"></div>

<h3>Tính năng 14</h3>
<p>Hiệu ứng Nockback: trigger va chạm với hitbox tấn công truyền event cùng biến Right để xác định hướng knockback.</p>
<div class="gallery" data-slot="f14"></div>

<h3>Tính năng 15</h3>
<p>ESC: ON Update kiểm tra khi người dùng ấn ESC thì ẩn tất cả UI trên màn hình.</p>
<div class="gallery" data-slot="f15"></div>

<h3>Tính năng 16</h3>
<p>Door: tạo collider cánh cửa, tag Door; player va chạm hiện màn hình Win và sau 2s load scene Menu.</p>
<div class="gallery" data-slot="f16"></div>

</section>

<section id="links">
<h2>Liên kết tải về</h2>
<p>Drive: <a href="https://drive.google.com/file/d/1et1HIVm3_XfGe3GCwTQ8yrz9itDcNMZT/view?usp=drive_link" target="_blank">Tải từ Google Drive</a></p>
<p>GitHub: <a href="https://github.com/Dev-GiaPhu/Elementaria/tree/master" target="_blank">Xem mã nguồn</a></p>
</section>

<section id="extra-images" style="display:none">
<h2>Ảnh bổ sung</h2>
<div class="gallery" data-slot="extra"></div>
</section>
</main>

<div id="overlay" onclick="closeOverlay(event)">
<div class="box">
<span class="close" onclick="closeOverlay(event)">×</span>
<img src="" alt="Ảnh phóng to">
</div>
</div>

<div class="player-fixed">
<img id="playerSprite" src="Image_Web/PLayer_Normal_Idle1.png" alt="Player">
</div>

<div class="student-fixed">Nguyễn Gia Phú – PS47618</div>

<script>
// Animated Player
const frames={
Normal:['Image_Web/PLayer_Normal_Idle1.png','Image_Web/PLayer_Normal_Idle2.png','Image_Web/PLayer_Normal_Idle3.png','Image_Web/PLayer_Normal_Idle4.png'],
Fire:['Image_Web/PLayer_Fire_Idle1.png','Image_Web/PLayer_Fire_Idle2.png','Image_Web/PLayer_Fire_Idle3.png','Image_Web/PLayer_Fire_Idle4.png'],
Ice:['Image_Web/PLayer_Ice_Idle1.png','Image_Web/PLayer_Ice_Idle2.png','Image_Web/PLayer_Ice_Idle3.png','Image_Web/PLayer_Ice_Idle4.png'],
Stone:['Image_Web/PLayer_Stone_Idle1.png','Image_Web/PLayer_Stone_Idle2.png','Image_Web/PLayer_Stone_Idle3.png','Image_Web/PLayer_Stone_Idle4.png'],
Wind:['Image_Web/PLayer_Wind_Idle1.png','Image_Web/PLayer_Wind_Idle2.png','Image_Web/PLayer_Wind_Idle3.png','Image_Web/PLayer_Wind_Idle4.png']
};
let currentType='Normal',frameIndex=0;
const playerImg=document.getElementById('playerSprite');
function animatePlayer(){const frameArray=frames[currentType];frameIndex=(frameIndex+1)%frameArray.length;playerImg.src=frameArray[frameIndex];}
setInterval(animatePlayer,200);

// Overlay images
function appendThumb(container, src, caption){
const div=document.createElement('div'); div.className='thumb';
const img=document.createElement('img'); img.src=src; img.alt=caption; img.loading='lazy';
const cap=document.createElement('div'); cap.className='caption'; cap.textContent=caption;
div.appendChild(img); div.appendChild(cap); container.appendChild(div);
img.addEventListener('click',()=>openOverlay(src));
img.onerror=()=>{img.style.opacity=0.2; img.alt='(Ảnh không tìm thấy) '+caption};
}
function openOverlay(src){const overlay=document.getElementById('overlay');const big=overlay.querySelector('img');big.src=src;overlay.classList.add('show');document.body.style.overflow='hidden';}
function closeOverlay(e){e.stopPropagation();const overlay=document.getElementById('overlay');overlay.classList.remove('show');document.body.style.overflow='auto';}

// Gallery images
const sequence=[2,1,3,2,4,4,6,1,1,3,2,12,3,3,5,2,1,2];
const slots=['images-in-game','unity','f1','f2','f3','f4','f5','f6','f7','f8','f9','f10','f11','f12','f13','f14','f15','f16'];
const slotOrder=[];
for(let s=0;s<sequence.length;s++){
  let slotName;
  if(s===0) slotName='images-in-game';
  else if(s===1) slotName='unity';
  else slotName='f'+(s-1);
  for(let k=0;k<sequence[s];k++) slotOrder.push(slotName);
}
const basePath='Image_Web/Picture',ext='.png',maxPicture=57;
(function populate(){
let pic=1,orderIdx=0;
while(pic<=maxPicture){
  const slot=slotOrder[orderIdx]||'extra';
  const container=document.querySelector(`[data-slot="${slot}"]`);
  const src=basePath+pic+ext;
  if(container) appendThumb(container, src, 'Picture'+pic+'.png');
  else { const extra=document.querySelector('[data-slot="extra"]'); if(extra) appendThumb(extra, src, 'Picture'+pic+'.png'); }
  pic++; orderIdx++;
}
const extra=document.querySelector('[data-slot="extra"]');
if(extra && extra.children.length>0) document.getElementById('extra-images').style.display='block';
})();
</script>
</body>
</html>
